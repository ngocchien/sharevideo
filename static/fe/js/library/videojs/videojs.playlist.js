function playList(d,g){var a=this;a.pl=a.pl||{};var e=parseInt(d,10);a.pl._guessVideoType=function(a){return{webm:"video/webm",mp4:"video/mp4",ogv:"video/ogg",m3u8:"application/x-mpegURL"}[a.split(".").pop()]||""};a.pl.init=function(b,c){c=c||{};a.pl.videos=[];a.pl.current=0;a.on("ended",a.pl._videoEnd);c.getVideoSource&&(a.pl.getVideoSource=c.getVideoSource);a.pl._addVideos(b)};a.pl._updatePoster=function(b){a.poster(b);a.removeChild(a.posterImage);a.posterImage=a.addChild("posterImage")};a.pl._addVideos=
function(b){for(var c=0,h=b.length;c<h;c++){for(var d=[],f=0,e=b[c].src.length;f<e;f++)d.push({type:a.pl._guessVideoType(b[c].src[f]),src:b[c].src[f]});b[c].src=d;a.pl.videos.push(b[c])}};a.pl._nextPrev=function(b){var c,d;"next"===b?(c=a.pl.videos.length-1,d=1):(c=0,d=-1);a.pl.current!==c&&(c=a.pl.current+d,a.pl._setVideo(c),a.trigger(b,[a.pl.videos[c]]))};a.pl._setVideo=function(b){b<a.pl.videos.length&&(a.pl.current=b,a.pl.currentVideo=a.pl.videos[b],a.pl._setVideoAttr({controls:a.pl.videos[b].controls}),
a.paused()||a.pl._resumeVideo(),a.pl.getVideoSource?a.pl.getVideoSource(a.pl.videos[b],function(b,d){a.pl._setVideoSource(b,d)}):a.pl._setVideoSource(a.pl.videos[b].src,a.pl.videos[b].poster))};a.pl._setVideoSource=function(b,c){a.updateSrc(b,{hls:!0});a.pl._updatePoster(c)};a.pl._setVideoAttr=function(b){a.controls(b.controls)};a.pl._resumeVideo=function(){a.one("loadstart",function(){a.play()})};a.pl._videoEnd=function(){a.pl.current===a.pl.videos.length-1?a.trigger("lastVideoEnded"):(a.pl._resumeVideo(),
this.pl._nextPrev("next"))};a.pl.stop=function(){var b=a.src(),c=a.currentTime();a.src("null.mp4");a.one("play",function(){a.pl._setVideo(a.pl.current);a.src()==b&&a.currentTime(c)})};if(d instanceof Array)return a.pl.init(d,g),a.pl._setVideo(0),a;if(e===e)return a.pl._setVideo(e),a;if("string"===typeof d&&"undefined"!==typeof a.pl[d])return a.pl[d].apply(a),a}videojs.plugin("playList",playList);
